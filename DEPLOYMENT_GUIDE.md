# üöÄ –ü—Ä–æ—Ü–µ—Å—Å –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ –°–µ—Ä–≤–µ—Ä–µ

> –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é MyVlessBot –Ω–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é —Ñ–∞–π–ª–æ–≤.

---

## üìå –í–∞–∂–Ω–æ –ó–Ω–∞—Ç—å –ü–µ—Ä–µ–¥ –ù–∞—á–∞–ª–æ–º

### –§–∞–π–ª—ã –∏ –∏—Ö —Ä–æ–ª–∏

| –§–∞–π–ª/–ü–∞–ø–∫–∞ | –ú–µ—Å—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ | –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å? | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---|---|---|---|
| `src/shop_bot/` | `/path/to/project/src/shop_bot/` | ‚úÖ **–í–°–ï–ì–î–ê** | –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ - –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| `users.db` | `/path/to/project/users.db` | ‚ùå **–ù–ò–ö–û–ì–î–ê** | –ë–î —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ - –∑–æ–ª–æ—Ç–∞—è –∫–æ–ø–∏—è |
| `.env` | `/path/to/project/.env` | ‚ö†Ô∏è **–° –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é** | –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏ |
| `docker-compose.yml` | `/path/to/project/docker-compose.yml` | ‚úÖ –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ | –ö–æ–Ω—Ñ–∏–≥ Docker |
| `Dockerfile` | `/path/to/project/Dockerfile` | ‚úÖ –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ | –ù—É–∂–Ω–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ |
| `pyproject.toml` | `/path/to/project/pyproject.toml` | ‚úÖ –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –ù—É–∂–Ω–∞ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ pip –ø–∞–∫–µ—Ç–æ–≤ |

---

## üîÑ –û—Å–Ω–æ–≤–Ω–æ–π –ü—Ä–æ—Ü–µ—Å—Å –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –≤ `src/`

–≠—Ç–æ —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π - –≤—ã –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ –±–æ—Ç–∞.

#### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ü–ö (–≥–¥–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ):
1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `src/shop_bot/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–Ω–µ—Ç –æ—à–∏–±–æ–∫)
3. –ì–æ—Ç–æ–≤–æ - —Ñ–∞–π–ª—ã —É–∂–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (Ubuntu):
```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH
ssh user@server_ip

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/vless-shopbot

# 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É src —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ü–ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É —Å –≤–∞—à–µ–≥–æ –ü–ö (–Ω–µ —Å —Å–µ—Ä–≤–µ—Ä–∞!):
# scp -r /local/path/to/src user@server_ip:/path/to/vless-shopbot/

# 5. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–Ω–æ–≤–æ
docker-compose up -d

# 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
docker logs -f <container_name>

# –ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ, —É–≤–∏–¥–∏—Ç–µ:
# "Flask server started in a background thread"
# "Application is running. Bot can be started from the web panel."

# Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ª–æ–≥–æ–≤
```

**–ö–æ–º–∞–Ω–¥–∞ scp –¥–ª—è Windows (PowerShell)**:
```powershell
scp -r "C:\path\to\src" "user@server_ip:/path/to/vless-shopbot/"
```

**–ö–æ–º–∞–Ω–¥–∞ scp –¥–ª—è Linux/Mac**:
```bash
scp -r /path/to/src user@server_ip:/path/to/vless-shopbot/
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (pyproject.toml)

–í—ã –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π –ø–∞–∫–µ—Ç –≤ pyproject.toml.

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π pyproject.toml
scp /local/path/to/pyproject.toml user@server_ip:/path/to/vless-shopbot/

# 3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑ (—ç—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
docker-compose up -d --build

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs -f <container_name>
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—ã –∏–∑–º–µ–Ω–∏–ª–∏ `docker-compose.yml` –∏–ª–∏ `Dockerfile`.

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
scp /local/path/to/docker-compose.yml user@server_ip:/path/to/vless-shopbot/
scp /local/path/to/Dockerfile user@server_ip:/path/to/vless-shopbot/

# 3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose up -d --build

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker ps  # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

–í—ã —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã, –¥–æ–º–µ–Ω—ã –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

#### ‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û!

```bash
# 1. –ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ .env –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! 
# –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–º —Å–µ–π—á–∞—Å

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
ssh user@server_ip
cat /path/to/vless-shopbot/.env

# 3. –û–±–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é:
nano /path/to/vless-shopbot/.env

# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω—ã (—ç—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –í–°–ï –∑–Ω–∞—á–µ–Ω–∏—è!):
scp /local/path/to/.env user@server_ip:/path/to/vless-shopbot/

# 4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
docker-compose down
docker-compose up -d

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å
docker logs <container_name> | grep "Bot configuration"
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞ –ü–æ—Å–ª–µ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω?
docker ps | grep bot

# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–≤–æ–¥ –≤—Ä–æ–¥–µ:
# CONTAINER ID  IMAGE  COMMAND  CREATED  STATUS  PORTS  NAMES
# abc123...     ...    ...      ...      ...     0.0.0.0:1488->1488/tcp  shopbot_bot_1
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
docker logs --tail 50 <container_name>

# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f <container_name>

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
docker logs <container_name> | grep -i "error"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-–ø–∞–Ω–µ–ª–∏
```bash
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 1488
curl http://localhost:1488

# –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–µ—Ä–Ω–µ—Ç HTML –∫–æ–Ω—Ç–µ–Ω—Ç (–≤–æ–∑–º–æ–∂–Ω–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login)

# –° –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
curl http://server_ip:1488
```

---

## üÜò –ü–æ–∏—Å–∫ –∏ –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs <container_name>

# 2. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è:

# "Port 1488 already in use"
# ‚Üí –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ —ç—Ç–æ–º –ø–æ—Ä—Ç—É:
docker ps -a | grep 1488  # –ù–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker stop <container_id>
docker rm <container_id>
# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ port –≤ docker-compose.yml

# "No such file or directory: users.db"
# ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

# "Connection refused" –∫ —Ö–æ—Å—Ç–∞–º
# ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ö–æ—Å—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è
docker ps --no-trunc | grep bot

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ —Ñ–∞–π–ª—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
ssh user@server_ip
ls -la /path/to/vless-shopbot/src/shop_bot/bot/handlers.py  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è

# 3. –ï—Å–ª–∏ —Ñ–∞–π–ª—ã –∏–∑ –±—É–¥—É—â–µ–π –¥–∞—Ç—ã, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞:
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–¥–∞–∂–µ –ø—Ä–æ–±–µ–ª –¥–æ–±–∞–≤—å—Ç–µ) —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É

# 4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down
docker-compose up -d --build
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∞ "Database is locked"

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞–Ω–æ—Å—Ç—å –ë–î
sqlite3 users.db "PRAGMA integrity_check;"

# 3. –ï—Å–ª–∏ –≤—Å–µ –Ω–æ—Ä–º, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
docker-compose up -d

# 4. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
# (—Å–º. —Ä–∞–∑–¥–µ–ª –†–µ–∑–µ—Ä–≤–Ω–æ–µ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∏–∂–µ)
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ü–∞–º—è—Ç—å/–î–∏—Å–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
df -h

# 2. –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ Docker –æ–±—Ä–∞–∑—ã
docker image prune -a

# 3. –û—á–∏—Å—Ç–∏—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤
docker logs <container_name> | wc -l

# 5. –ï—Å–ª–∏ –ª–æ–≥–æ–≤ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ, –æ—á–∏—Å—Ç–∏—Ç–µ –∏—Ö
docker logs -f <container_name> | tail -c +2G > /tmp/logs.txt
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Docker-compose
```

---

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –≤—Ä—É—á–Ω—É—é

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/vless-shopbot

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—á—Ç–æ–±—ã –ë–î –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞)
docker-compose down

# 2. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é –ë–î
cp users.db users.db.backup.$(date +%Y%m%d_%H%M%S)

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–Ω–æ–≤–∞
docker-compose up -d

# 4. –°–∫–∞—á–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –Ω–∞ —Å–≤–æ–π –ü–ö
scp user@server_ip:/path/to/vless-shopbot/users.db.* ~/backups/
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down

# 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
cp users.db users.db.corrupted
cp users.db.backup.20260105_103045 users.db

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
docker logs -f <container_name>
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤—å—Ç–µ –≤ crontab (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 02:00):

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ crontab
crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É:
0 2 * * * cd /path/to/vless-shopbot && cp users.db users.db.backup.$(date +\%Y\%m\%d) && find . -name "users.db.backup.*" -mtime +30 -delete

# –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Å –¥–∞—Ç–æ–π –≤ –∏–º–µ–Ω–∏ –∏ —É–¥–∞–ª–∏—Ç –∫–æ–ø–∏–∏ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
```

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ò–∑ GitHub

–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/vless-shopbot

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down

# 2. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ GitHub
git fetch origin main
git reset --hard origin/main

# 3. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å)
docker-compose up -d --build

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker logs -f <container_name>
```

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**:
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–ø–∞–Ω–µ–ª—å
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "Updates"
- –ù–∞–∂–º–∏—Ç–µ "Check for Updates"
- –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–∞–∂–º–∏—Ç–µ "Apply Update"

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ü–µ—Ä–µ–¥ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –≤ Production

- [ ] **–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è** –ë–î —Å–¥–µ–ª–∞–Ω–∞
- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —Ç–µ—Å—Ç–µ
- [ ] **–§–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã** –ø—Ä–∞–≤–∏–ª—å–Ω–æ (src/ –Ω–∞ —Å–µ—Ä–≤–µ—Ä)
- [ ] **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è** (docker-compose down && up -d)
- [ ] **–õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã** (docker logs –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- [ ] **–í–µ–±-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞** (–º–æ–∂–Ω–æ –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è)
- [ ] **–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω** –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- [ ] **–ü–ª–∞—Ç–µ–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç** (—Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ –ø—Ä–æ—à–µ–ª)
- [ ] **–ö–ª—é—á–∏ –≤—ã–¥–∞—é—Ç—Å—è** (–∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏–ª VPN –∫–æ–Ω—Ñ–∏–≥)
- [ ] **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è** (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏)

---

## üéØ –¢–∏–ø–∏—á–Ω—ã–π –î–µ–Ω—å –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –£—Ç—Ä–æ
1. –°–∫–∞—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ –∫–æ–ª–ª–µ–≥—É —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏)
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –ª–æ–∫–∞–ª—å–Ω–æ
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ

### –î–µ–Ω—å
4. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
5. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
6. –°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
7. –ö–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã: `scp -r src/ ...`
8. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
9. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

### –í–µ—á–µ—Ä
10. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å—ë —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
11. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ CHANGELOG
12. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ .env —Ñ–∞–π–ª–∞
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º
chmod 600 /path/to/vless-shopbot/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la .env
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞: -rw------- (600)
```

### –ó–∞—â–∏—Ç–∞ –ë–î
```bash
# –ë–î –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–µ—Ä–≤–µ—Ä–∞
chmod 640 /path/to/vless-shopbot/users.db
chmod 750 /path/to/vless-shopbot/

# –ü—Ä–æ–≤–µ—Ä–∫–∞
ls -la users.db
```

### –ó–∞—â–∏—Ç–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤)
- –†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª—å
- –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å –ø–∞—Ä–æ–ª–µ–º –ø–æ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Nginx reverse proxy —Å –±–∞–∑–æ–≤–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

---

## üìû –ö–æ–≥–¥–∞ –ù—É–∂–Ω–∞ –ü–æ–º–æ—â—å

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: `docker logs <container_name>`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ë–î**: `sqlite3 users.db "SELECT COUNT(*) FROM users;"`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å**: `curl https://api.telegram.org/botXXX/getMe`
4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
5. **–°–≤—è–∂–∏—Ç–µ—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º** —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
alias start-bot="cd /path/to/vless-shopbot && docker-compose up -d && docker logs -f <name>"
alias stop-bot="cd /path/to/vless-shopbot && docker-compose down"
alias logs-bot="docker logs -f <name> | tail -100"

# –î–æ–±–∞–≤—å—Ç–µ –≤ ~/.bashrc —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ:
echo "alias start-bot='cd /path/to/vless-shopbot && docker-compose up -d'" >> ~/.bashrc
source ~/.bashrc
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 5 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è**: 1.0
